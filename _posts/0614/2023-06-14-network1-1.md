---
title: "네트워크 1-1 ot"

categories:
  - Network
tags:
  - Network
---

> 이 글은 KOCW에서 제공하는 한양대학교 이석복 교수님의 컴퓨터 네트워크 강의를 기반으로 내용을 정리하고 복습하기 위한 용도로 작성되었습니다.

> 첫시간은 네트워크의 전반적인 구조와 흐름을 간략히 소개해 주셨습니다.

## 네트워크의 역사 그리고 계층과 구조

#### 1. 네트워크란?

---

- 네트워크는 여러개의 노드가 연결된 모양으로 이루어져 있다.
- 그런 네트워크 구조에서 edge(가장자리 노드)가 우리고 다른 edge와 통신하는 것을 네트워킹이라고 한다.
- edge는 중간의 router들을 거쳐서 서로 연결될 수 있다.
- Server - Client (주로 사용됨), pear-pear 구조가 있다.

#### 2. 서버 - 클라이언트의 통신

---

- 클라이언트는 사용자(ex 크롬 브라우저)고 서버는 데이터를 제공해주는 저장소이다.(ex 구글 서버)
- 우리가 브라우저에 google.co.kr을 입력하는것은 브라우저를 통해서 구글 데이터 서버에 데이터를 요청하는 것이다.
- 브라우저와 데이터 서버간의 데이터 전달은 여러 계층을 통해서 이루어지는데 우선 애플리케이션 계층부터 알아보도록 하자.

#### 3. 애플리케이션 계층과 tcp, udp통신

---

- 우리가 브라우저를 통해서 서버에 데이터를 요청할때 관련 정보들이 http메세지의 형태로 만들어져 애플리케이션 계층으로 전달된다.
- 애플리케이션 계층에서 반대편 서버의 프로세스와 통신을 하기위한 규약이 존재하는데 TCP와 UDP 두가지가 있다.
- TCP : 상대방에게 데이터가 전달되는 것을 반드시 보장해주고 보안을 중요시하는 프로토콜
- UDP : TCP와 다르게 데이터의 전달과 보안을 보장하지 않으나 비용이 비교적 가벼운 프로토콜
- 프로세스마다 둘 중 하나의 프로토콜이 채택하며, 패킷이라는 단위로 데이터가 전달된다.

#### 4. 라우터

---

- 라우터는 클라이언트가 송신한 패킷이 목적지까지 전달되는 과정에서 거쳐가는 일종의 톨게이트로 이해하면 된다.
- 라우터의 패킷 전송 방식으로는 serkit방식과 packit방식 두가지가 존재하는데 현대에는 packit방식을 주로 사용한다.
- serkit 방식은 유선전화에서 이용되는 방식이다. 출발지와 목적지의 경로를 혼자만 사용하는 방식이다.
- packit 방식은 출발지와 목적지의 경로로 데이터가 전달될 때 데이터를 패킷이라는 단위로 나누어 다른 데이터들과 섞여서 이동하는 방식이다.
- 현대에서 사용되는 packit 방식에는 4가지 지연시간(delay)이 있다.

#### 5. 라우터의 지연(Delay)

---

1. 라우터가 다음 목적지를 정할때까지 소요되는 딜레이다. 주로 라우터의 물리적인 성능에 영향을 받는다. (d1)
2. 패킷의 특성상 데이터들이 쪼개져서 전달되는 특징이 있다. 이때 한 목적지에 출발지에서 출발한 모든 패킷이 전달되어 모이기 전까지는 다음 목적지로 향할 수 없는데 이때 지연이 발생한다. (d2)
3. 세번째는 라우터와 라우터간의 이동에서 패킷의 용량과 대역폭에 의해 결정되는 전송시간에 의한 지연이 있다. (d3)
4. 네번째는 물리적인 지연. 즉 출발지의 라우터와 목적지 라우터의 물리적인 거리때문에 발생하는 지연이 있다. 이는 빛의 속도에 의거한다 (d4)
   > 이러한 딜레이를 해소하는 방법은 뭐가 있을까?

#### 6. 지연의 해소

---

- 우선 d4는 빛의 속도에 의거하기 때문에 해소할 수 없다.
- d2도 줄일 수 없다. 라우터에 모든 패킷이 모이는데 시간이 지연되는 것은 그만큼 이용자가 많다는 뜻이다. 이러한 인간의 행동패턴으로 발생하는 지연은 줄일 수 없다.
- d1은 라우터의 성능에 영향을 받는 지연이기 때문에 라우터의 cpu를 업그레이드 하는 등의 방법으로 지연을 줄일 수 있다.
- d3는 대역폭을 늘리는, 즉 패킷이 전달될때 사용되는 밴드를 좋은 밴드로 업그레이드하면 지연을 줄일 수 있다.

> 현실적으로 라우터 모니터링에서 가장 중요하게 사용되는 지표는 언제 사용자가 가장 몰리는지 판단하는 그래프 이다. 즉, 큐잉 딜레이(d2)가 모든 지연중 가장 영향력이 크다.

#### 7. 로스(Loss)와 TCP, UDP

---

- 큐잉 딜레이에서 더 파고들어 만약 새로운 패킷이 도착했는데 라우터의 큐가 꽉 찼다면 어떻게될까?
- 늦게온 패킷은 큐에 들어갈 수 없고, 어쩔수 없이 라우터는 해당 패킷을 소실시킬 수 밖에 없고 이를 패킷 로스(loss)라고 한다.
- 그런데 앞서 설명한 TCP는 데이터가 반드시 전달되는 것을 보장하기 때문에 이러한 패킷로스가 일어날 시 재전송을 통해서 문제를 해결한다.
  > 그러면 재전송은 정확히 어디서 일어나지? 소실된 라우터? 아니면 클라이언트?
- 정답은 클라이언트에서 재전송을 담당한다. 패킷 로스가 일어난 라우터에서 재전송까지 담당하기에는 라우터는 너무 바쁘다!
- 이런식으로 재전송과 같은 부가기능은 네트워크의 edge에 몰아넣고 중간 톨게이트인 라우터에는 전달이라는 역할만 충실하도록 라우터에는 몇가지 계층밖에 존재하지 않는다.
- 이것이 우리가 흔히 알고있는 라우터는 3계층밖에 존재하지 않는다는 배경이다.

---
