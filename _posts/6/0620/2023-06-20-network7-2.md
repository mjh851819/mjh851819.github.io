---
title: "네트워크 7-2 멀티미디어 네트워크 2"

categories:
  - Network
tags:
  - Network
---

> 이 글은 KOCW에서 제공하는 한양대학교 이석복 교수님의 컴퓨터 네트워크 강의를 기반으로 내용을 정리하고 복습하기 위한 용도로 작성되었습니다.

## 멀티미디어 네트워크 2

#### 1. Voice over IP(VoIP)

---

- Voice over IP는 인터넷 프로토콜 네트워크를 통해 음성 통신과 멀티미디어 전달을 위한 기술이다.
- voip는 내가 전송한 음성 미디어가 일정 딜레이(delay) 내에 상대방에게 전송되느냐가 주 관건이다.
- 보통 150ms안에 도착하면 원활한 의사소통이 가능하며 400ms를 초과하면 의사소통이 불가능하다.
- talk spurts: 한쪽이 음성데이터를 전송하는 시간. 다른 한쪽은 데이터를 듣기위해 데이터를 전송하지 않는다.
- talk spurt동안 64kps의 속도로 약 20ms에 한번씩 청크를 만들어서 데이터를 전송한다.

#### 2. Voip의 패킷 유실, 지연

---

- delay loss: delay deadline내에 도착하지 않는 패킷은 유실이라고 판단한다.
- 스트리밍 서비스와 같이 네트워크 딜레이(jitter)로 인해 원활하게 데이터가 전달되지 않을 수 있으므로 Voip역시 클라이언트의 playout delay가 필요하다.

#### 3. playout delay

---

- 온전한 데이터를 전달하기 위해서 playout delay를 너무 길게부여하면 의사소통이 가능한 delay를 넘어서는 경우가 발생할 수 있기에 playout delay의 설정은 민감한 문제다.
- 따라서 네트워크 상황에 따라서 유실을 줄일 수 있는 최소한의 playout delay를 매 순간 adaptive하게 설정해야한다.
  > 이를 위해서 클라이언트가 애플리케이션 계층에서 네트워크 상황을 유추할 필요가 있는데 이를 활용한 구체적인 딜레이 계산 공식이 존재하지만 해당 포스팅에선 생략하겠다.

#### 4. talk spurt

---

- 위의 playout delay를 계산하기 위해선 talk spurt의 시작 시간이 필요한데 이는 애플리케이션 계층에서 만드는 Voip 패킷의 타임스탬프와 시퀸스 넘버를 통해서 알 수 있다.
  > 원래는 일정 간격으로 데이터를 전송하기에 중간에 끊이진 시간만을 사용해 타임스탬프만으로 판단할 수 있을것 같지만 데이터 유실을 고려해서 시퀸스 넘버까지 같이 보고 결정한다.

#### 5. recover from delay loss: foward error correction

---

- 지연에 의한 loss를 복구하기 위한 voip의 기술

- 1001101의 음성데이터가 있다고 가정했을때 데이터 가장 뒤에 해당 데이터를 XOR한 데이터까지 붙여서 보낸다.
- 1001101의 중간의 한 데이터가 유실되어도 마지막에 붙은 XOR데이터로 중간의 데이터를 복구할 수 있다.
- 하지만 이러한 기법은 오버헤드가 붙게된다.
- 이러한 오버헤드를 줄이기 위해 각 청크에 이전 청크를 low level로 인코딩한 데이터를 붙여서 보냄으로써 유실된 청크의 low level복원본을 만드는 기법도 존재한다.

## RTP(Real Time Protocol)

- UDP 위에서 동작하며 실시간 음성, 영상 및 데이터를 IP 네트워크로 전송하는 표준 프로토콜이다.
- 음성이나 영상등 다양한 멀티미디어 데이터를 관장하므로 패킷의 헤더에 어떤 종류의 미디어인지 명세해주고 리시버는 이 정보를 통해서 알맞은 디코딩방식을 설정한다.
